<app-card class="p-0 overflow-hidden">
  <!-- Post Header -->
  <div class="p-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <app-avatar
        [name]="post.author.name"
        [src]="post.author.avatarUrl || null"
        [size]="'sm'"
        [showBadge]="false"
      >
      </app-avatar>
      <div>
        <div class="flex items-center gap-2">
          <a
            [routerLink]="['/user', post.author.id]"
            class="text-sm font-medium hover:underline"
          >
            {{ post.author.name }}
          </a>
          @if (post.community) {
          <span class="text-foreground-muted">in</span>
          <a
            [routerLink]="['/community', post.community.slug]"
            class="text-sm font-medium text-primary hover:underline"
          >
            {{ post.community.name }}
          </a>
          }
        </div>
        <p class="text-xs text-foreground-muted">
          {{ post.createdAt | date : "medium" }}
        </p>
      </div>
    </div>
  </div>

  <!-- Post Content -->
  <div class="px-4 pb-2">
    <h3 class="text-lg font-medium mb-2">{{ post.title }}</h3>
    <p class="text-foreground-muted">{{ post.content }}</p>
  </div>

  <!-- Post Image (if any) -->
  @if (post.imageUrl) {
  <div class="mt-2 mb-3">
    <img
      [src]="post.imageUrl"
      [alt]="post.title"
      class="w-full h-auto max-h-80 object-cover"
    />
  </div>
  }

  <!-- Post Actions -->
  <div
    class="px-4 py-3 border-t border-border flex items-center justify-between"
  >
    <div class="flex items-center gap-4">
      <button
        class="flex items-center gap-1 text-sm text-foreground-muted hover:text-primary transition-colors"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
          ></path>
        </svg>
        {{ post.likes }}
      </button>
      <button
        class="flex items-center gap-1 text-sm text-foreground-muted hover:text-primary transition-colors"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
          ></path>
        </svg>
        {{ post.comments }}
      </button>
    </div>
    <button
      class="flex items-center gap-1 text-sm text-foreground-muted hover:text-primary transition-colors"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
        <polyline points="16 6 12 2 8 6"></polyline>
        <line x1="12" y1="2" x2="12" y2="15"></line>
      </svg>
      Share
    </button>
  </div>
</app-card>
